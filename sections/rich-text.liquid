{% assign id = section.id %}
{% assign layout = section.settings.layout %}
{% assign heading_size = section.settings.heading_size %}
{% assign heading_align = section.settings.heading_align %}
{% assign title = section.settings.title %}
{% assign content = section.settings.content %}
{% assign cta = section.settings.cta %}
{% assign link = section.settings.link %}
{% assign accent_line = section.settings.accent_line %}
{% assign accent_line_color = section.settings.accent_line_color %}

{%- if accent_line_color != blank -%}
<style>
  #text-module-{{ id }} .accent-line--straight { background-color: {{ accent_line_color }}; }
  #text-module-{{ id }} .accent-line--curved svg path { fill: {{ accent_line_color }}; }
</style>
{%- endif -%}

{% include 'rich-text' %}

{% comment %} Schema {% endcomment %}
{% schema %}
	{
		"name": "Rich text",
		"settings": [
			{
				"type": "header",
				"content": "Layout"
			},
			{
				"type": "select",
				"id": "layout",
				"label": "Text position",
				"default": "default",
				"options": [
					{ "label": "Stacked", "value": "default" },
					{ "label": "Split", "value": "split" }
				]
			},
			{
				"type": "select",
				"id": "heading_align",
				"label": "Heading alignment",
				"default": "left",
				"options": [
					{ "label": "Left", "value": "left" },
					{ "label": "Center", "value": "center" },
					{ "label": "Right", "value": "right" }
				]
			},
			{
				"type": "header",
				"content": "Typography"
			},
			{
				"type": "select",
				"id": "heading_size",
				"label": "Heading size",
				"default": "small",
				"options": [
					{ "label": "Small", "value": "small" },
					{ "label": "Normal", "value": "normal" },
					{ "label": "Large", "value": "large" },
					{ "label": "Extra large", "value": "xlarge" }
				]
			},
			{
				"type": "header",
				"content": "Content"
			},
			{
				"type": "text",
				"id": "title",
				"label": "Heading",
				"default":"Describe your products or brand in detail here"
			}, 
			{
				"type": "richtext",
				"id": "content",
				"label": "Text",
				"default":"<p>Modular is a powerful Shopify theme that will set you apart from the rest. It features ample space to showcase your imagery with Mosaic, Gallery, and Slideshow sections.</p>"
			}, 
			{
				"type": "text",
				"id": "cta",
				"label": "Button label"
			}, 
			{
				"type": "url",
				"id": "link",
				"label": "Button link"
			},
			{
				"type": "select",
				"id": "accent_line",
				"label": "Accent line",
				"default": "curved",
				"options": [
					{ "label": "Curved", "value": "curved" },
					{ "label": "Straight", "value": "straight" },
					{ "label": "None", "value": "none" }
				]
			},
			{
				"type": "color",
				"id": "accent_line_color",
				"label": "Color",
				"default": "#333"
			}
		],
		"presets": [
			{
				"category": "Text",
				"name": "Rich text"
			} 
		]
	}
{% endschema %}